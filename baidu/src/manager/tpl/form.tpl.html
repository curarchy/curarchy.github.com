<!-- target: managerForm -->
<!-- import: managerSidebar -->
<div id="content" class="sidebar-page">
    <!-- import: formCrumb -->
    <!-- import: managerFormMain -->
</div>
<!-- target: managerFormMain -->
<div class="form">
    <form data-ui-type="Form" data-ui-id="form"
        novalidate="novalidate" action="/managers" method="POST">
        <section class="form-section">
            <h3 class="form-section-title">基本信息</h3>
            <div class="form-field">
                <label for="name" class="form-field-name">管理员姓名：</label>
                <div class="form-field-value">
                    <input data-ui-type="TextBox" data-ui-id="name"
                        data-ui-value="@name"
                        data-ui-required="required"
                        data-ui-max-length="100"
                        data-ui-extension-count-type="WordCount"
                        id="name" name="name" title="管理员姓名" />
                </div>
            </div>
            <!-- if: ${hasLoginName} -->
            <div class="form-field">
                <label for="login-name" class="form-field-name">用户名：</label>
                <div class="form-field-value">
                    <label data-ui-type="Label" data-ui-id="login-name"
                        class="form-field-value-label">${loginName}</label>
                </div>
            </div>
            <!-- /if -->
            <div class="form-field">
                <label for="mail" class="form-field-name">电子邮件：</label>
                <div class="form-field-value">
                    <input data-ui-type="TextBox" data-ui-id="mail"
                        data-ui-value="@mail"
                        data-ui-required="required"
                        data-ui-max-length="64"
                        data-ui-pattern="\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*"
                        data-ui-pattern-error-message="请输入正确的电子邮件地址"
                        data-ui-extension-count-type="WordCount"
                        id="mail" name="mail" title="电子邮件" ></input>
                    <div data-ui-type="Label" 
                        data-ui-id="mail-label-with-modify" 
                        data-ui-hidden="true" class="form-line-tip-link" >
                        没收到邮件？修改邮件地址
                    </div>
                    <div data-ui-type="Label"
                        data-ui-id="mail-confirm-label-normal"
                        data-ui-hidden="true"
                        class="form-line-tip">
                        接收激活邮件，请保证真实有效
                    </div>
                </div>
            </div>
            <div data-ui-type="Panel" data-ui-id="mail-confirm-wrapper">
                <div class="form-field">
                    <label for="mail-confirm" class="form-field-name">确认电子邮件：</label>
                    <div class="form-field-value">
                        <input data-ui-type="TextBox" data-ui-id="mail-confirm"
                            data-ui-value="@mail"
                            data-ui-required="required"
                            data-ui-max-length="64" 
                            data-ui-extension-count-type="WordCount"
                            id="mail-confirm" name="mailConfirm" title="确认电子邮件" />
                    </div>
                </div>
            </div>
            <div class="form-field">
                <div class="form-field-name">
                    角色：
                </div>
                <div class="form-field-value">
                    <ul id="roles-value">
                        <li>
                            <input type="checkbox" data-ui-type="CheckBox"
                                title="超级管理员"
                                data-ui-id="roleids-administrator" 
                                data-ui-name="roleIds" 
                                data-ui-value="6"
                                data-ui-validity-label="role-validity" />
                            <span class="checkbox-form-line-tip">
                                拥有全部权限
                            </span>
                        </li>
                        <li>
                            <input type="checkbox" data-ui-type="CheckBox"
                                title="销售经理" 
                                data-ui-id="roleids-sales-manager" 
                                data-ui-name="roleIds" 
                                data-ui-value="9"
                                data-ui-validity-label="role-validity" />
                            <span class="checkbox-form-line-tip" class="checkbox-form-line-tip">
                                拥有新建、审批媒介计划，查看销售人员、广告客户报告、订单广告报告、广告位报告的权限
                            </span>
                        </li>
                        <li>
                            <input type="checkbox" data-ui-type="CheckBox"
                                title="销售人员" 
                                data-ui-id="roleids-sales-person" 
                                data-ui-name="roleIds" 
                                data-ui-value="4"
                                data-ui-validity-label="role-validity" />
                            <span class="checkbox-form-line-tip">
                                拥有新建媒介计划，查看销售人员报告、广告客户报告、负责的订单广告报告、广告位报告的权限
                            </span>
                        </li>
                        <li>
                            <input type="checkbox" data-ui-type="CheckBox"
                                title="投放人员" 
                                data-ui-id="roleids-trafficker" 
                                data-ui-name="roleIds" 
                                data-ui-value="3"
                                data-ui-validity-label="role-validity" />
                            <span class="checkbox-form-line-tip">
                                拥有新建订单、投放广告、查看报告的权限
                            </span>
                        </li>
                        <li>
                            <input type="checkbox" data-ui-type="CheckBox"
                                title="技术人员" 
                                data-ui-id="roleids-technical" 
                                data-ui-name="roleIds" 
                                data-ui-value="5"
                                data-ui-validity-label="role-validity" />
                            <span class="checkbox-form-line-tip">
                                拥有增删改频道、频道分组、广告位，投放代码，增删改创意模板库、查看自己操作日志、账户设置、站内信的权限。
                            </span>
                        </li>
                        <li>
                            <input type="checkbox" data-ui-type="CheckBox"
                                title="数据监测员" 
                                data-ui-id="roleids-data-monitor" 
                                data-ui-name="roleIds" 
                                data-ui-value="2"
                                data-ui-validity-label="role-validity" />
                            <span class="checkbox-form-line-tip">
                                只有查看权限，可以查看分配的广告位、广告及其报告
                            </span>
                        </li>
                    </ul>
                    <span data-ui-type="Validity" data-ui-id="role-validity"></span>
                </div>
            </div>
            <div class="form-field">
                <div data-ui-type="Panel" 
                    data-ui-id="slot-authority-wrapper"
                    data-ui-hidden="true">
                    <div class="form-field-name">
                        <label for="slot-type" class="form-field-name">库存权限：</label>
                    </div>
                    <div class="form-field-value">
                        <div data-ui-type="BoxGroup" data-ui-id="slot-authority" 
                            data-ui-name="authority" data-ui-box-type="radio"
                            data-ui-value="@authority"
                            data-ui-validity-label="authority-validity">
                            <ul>
                                <li>
                                    <input type="radio" id="slot-authority-all"
                                        name="authority" value="0" checked="checked" />
                                    <label for="slot-authority-all">不限</label>
                                </li>
                                <li>
                                    <input type="radio" id="slot-authority-assigned" 
                                        name="authority" value="1"/>
                                    <label for="slot-authority-assigned">指定权限</label>
                                </li>
                            </ul>
                        </div>
                        <div data-ui-type="Panel" 
                            data-ui-id="slot-selector-wrapper"
                            data-ui-hidden="true">
                            <div>
                                <input type="checkbox" data-ui-type="CheckBox"
                                    title="指定频道权限" 
                                    data-ui-id="slot-authority-assigned-channel" 
                                    data-ui-name="authorityChannel" 
                                    data-ui-value="1" 
                                    data-ui-validity-label="channel-authority-validity"/>
                                <span class="inline-tip">指定后，拥有该频道所有广告位（包括后续新增广告位）权限</span>
                                <aside data-ui-type="Tip" title="如何指定频道/频道分组权限？">
                                    通过在下列列表中选择频道或频道分组，可以为管理员分配频道或频道分组层级的库存权限，仅有销售人员、销售经理、投放人员、数据监测员可指定库存权限。分配权限后，该管理员除可查看有权限的频道或频道分组以外，还可根据管理员属性对有权限的频道或频道分组进行预定、审批、投放、数据监测。
                                </aside>
                            </div>
                            <div data-ui-type="Panel" 
                                data-ui-id="slot-selector-channel-wrapper"
                                data-ui-hidden="true">
                                <div data-ui-type="RichSelector"
                                    data-ui-datasource="@channelTree"
                                    data-ui-id="channels" >
                                </div>
                                <div data-ui-type="RichSelector" 
                                    data-ui-datasource="@selectedChannelTree"
                                    data-ui-id="selected-channels" >
                                </div>
                            </div>
                            <span data-ui-type="Validity"
                                data-ui-id="channel-authority-validity"></span>
                            <div>
                                <input type="checkbox" data-ui-type="CheckBox"
                                    title="指定广告位权限" 
                                    data-ui-id="slot-authority-assigned-slot" 
                                    data-ui-name="authoritySlot" 
                                    data-ui-value="2"
                                    data-ui-validity-label="slot-authority-validity"/>
                                <span class="inline-tip">已分配频道权限的频道下广告位已在权限内，无需分配</span>
                                <aside data-ui-type="Tip" title="如何指定广告位权限？">
                                    通过在下列列表中选择广告位，可以为管理员分配广告位层级的库存权限，仅有销售人员、销售经理、投放人员、数据监测员可指定库存权限。分配权限后，该管理员除可查看有权限的广告位以外，还可根据管理员属性对有权限的广告位进行预定、审批、投放、数据监测。显示已分配权限的。
                                </aside>
                            </div>
                            <div data-ui-type="Panel" 
                                data-ui-id="slot-selector-slot-wrapper"
                                data-ui-hidden="true">
                                <div data-ui-type="RichSelector"
                                    data-ui-datasource="@slotTree"
                                    data-ui-id="slot-channels" >
                                </div>
                                <div data-ui-type="RichSelector"
                                    data-ui-id="slots" 
                                    class="manager-form-slots" >
                                </div>
                                <div data-ui-type="RichSelector"
                                    data-ui-datasource="@selectedSlotTree"
                                    data-ui-id="selected-slots">
                                </div>
                            </div>
                            <span data-ui-type="Validity"
                                data-ui-id="slot-authority-validity"></span>
                        </div>
                        <span data-ui-type="Validity"
                            data-ui-id="authority-validity"></span>
                    </div>
                </div>
            </div>
        </section>
        <section class="form-section">
            <div data-ui-type="TogglePanel" data-ui-id="advance-config">
                <h3>
                    高级设置
                    <span class="manager-form-section-description">（选填）</span>
                </h3>
                <div>
                    <div class="form-field">
                        <label for="phone" class="form-field-name">电话：</label>
                        <div class="form-field-value">
                            <input data-ui-type="TextBox" data-ui-id="phone"
                                data-ui-value="@phone" 
                                data-ui-max-length="100" 
                                data-ui-pattern="^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$"
                                data-ui-pattern-error-message="格式：区号-电话号码 或区号-电话号码-分机号"
                                id="phone" name="phone" title="电话" />
                        </div>
                    </div>
                    <div class="form-field">
                        <label for="mobile" class="form-field-name">手机：</label>
                        <div class="form-field-value">
                            <input data-ui-type="TextBox" data-ui-id="mobile"
                                data-ui-value="@mobile" 
                                data-ui-max-length="100"
                                data-ui-pattern="^(1(3|4|5|8)\d{9})?$"
                                data-ui-pattern-error-message="手机号码为以13、14、15、18开头的11位数字"
                                id="mobile" name="mobile" title="手机" />
                        </div>
                    </div>
                    <div class="form-field">
                        <label for="description" class="form-field-name">说明：</label>
                        <div class="form-field-value">
                            <textarea data-ui-type="TextBox" data-ui-id="description"
                                data-ui-value="@description" 
                                data-ui-max-length="4000"
                                data-ui-width="270"
                                data-ui-height="110"
                                id="description" name="description" title="说明"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <!-- import: formSubmitSection -->
        </section>
    </form>
</div>
