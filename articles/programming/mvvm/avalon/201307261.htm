<section id="articleTitle"></section>
<section id="articleBody">
	<link href="/webresources/bootstrap/css/docs.css" rel="stylesheet" type="text/css" />
	<script src="/webresources/bootstrap/js/prettify.js" type="text/javascript"></script>
	<link href="/webresources/css/prettify.css" rel="stylesheet" type="text/css" />
	<script src="/articles/programming/mvvm/avalon/avalon.js" type="text/javascript"></script>
	<style type="text/css">.loginArea label{color:#666;position: absolute;margin:5px 5px 5px 10px;cursor:text;}
	</style>

	<div class="alert alert-block">
		Avalon 出自 &nbsp;&nbsp;
		<a href='http://rubylouvre.github.io/mvvm/' target="_blank">http://rubylouvre.github.io/mvvm/</a>
		<br/>
		试用一下MVVM，看上去很厉害的样子。。。
	</div>

	<h4>案例</h4>
	<h5>这里先做一个兼容ie6的带placeholder的登陆框</h5>

	<div class="bs-docs-example">

		<form ms-controller="loginArea" class="loginArea">

			<label ms-visible="!userName.length" for="userName">userName</label>
			<input type="text" ms-duplex="userName" name="userName" id="userName"/>

			<br/>

			<label ms-visible="!password.length" for="password">password</label>
			<input type="password" ms-duplex="password" name="password" id="password"/>

			<br/>
			<div class="btn" ms-click="login">Login</div>
		</form>

	</div>

	<h6>html</h6>
	<pre class="prettyprint linenums">
&lt;form ms-controller="loginArea" class="loginArea"&gt;
	&lt;label ms-visible="!userName.length" for="userName"&gt;userName&lt;/label&gt;
	&lt;input type="text" ms-duplex="userName" name="userName" id="userName"/&gt;

	&lt;br/&gt;
	&lt;label ms-visible="!password.length" for="password"&gt;password&lt;/label&gt;
	&lt;input type="password" ms-duplex="password" name="password" id="password"/&gt;

	&lt;br/&gt;
	&lt;bottom class="btn" ms-click="login"&gt;Login&lt;/bottom&gt;
&lt;/form&gt;</pre>

	<h6>script</h6>
	<pre class="prettyprint linenums">
var loginMod = avalon.define("loginArea", function(a) {
    	a.userName="";
    	a.password="";
    	a.login = function(){
    		noty({type:"information",text:JSON.stringify(loginMod.$json),layout:"bottomLeft"});
    	};
    });
avalon.scan();</pre>
	<div class="alert alert-block">果然强大！</div>
	<div class="alert alert-block">目前为止发现的缺点是无法和非mvvm编写的插件混用。会导致无法同步数据。</div>
</section>
<script type="text/javascript">
    (function () {
        prettyPrint();
    })();

    (function () {
        $(".tipInfo").tooltip();
    })();

	var loginMod = avalon.define("loginArea", function(a) {
	    	a.userName="";
	    	a.password="";
	    	a.login = function(){
	    		noty({type:"information",text:JSON.stringify(loginMod.$json),layout:"bottomLeft"});
	    	}
	    });
	avalon.scan();
</script>