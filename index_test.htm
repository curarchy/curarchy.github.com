在地图上显示
 <!DOCTYPE html>
 <html xmlns="http://www.w3.org/1999/xhtml">
 <head>
     <title></title>
         <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
     <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
     <script type="text/javascript">
         $(document).ready(function () {
             var init = function () {
                 navigator.geolocation.getCurrentPosition(function (position) {
                     var c = position.coords;
                     //设定地图参数，将当前位置的纬度，经度设为地图中心点
                     //                    var latlng = new google.maps.LatLng(c.latitude, c.longitude);
                     var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);

                     var opt = {
                         zoom: 14,
                         center: latlng,
                         mapTypeId: google.maps.MapTypeId.ROADMAP
                     };
                     //创建地图并显示在div
                     var map = new google.maps.Map($('#map')[0], opt);
                     //在地图上创建标记
                     var marker = new google.maps.Marker({
                         position: latlng,
                         map: map
                     });

                     //设定标注窗口，指定文字
                     var marker = new google.maps.Marker({
                         position: latlng,
                         map: map,
                         title: "You are here! (at least within a " + position.coords.accuracy + " meter radius)"
                     });
                     var s = '';
                 }, function (error) {
                     var type = {
                         1: '位置服务被拒绝',
                         2: '获取不到信息',
                         3: '超时'
                     }
                     alert('获取数据失败：' + type[error.code]);
                 });
             }

             window.init = init;
             //            init();
         });
     </script>
 </head>
 <body>
     <button onclick="init();">
         显示</button>
     <div id="map" style="height:500px;">
     </div>
     <script>
         var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
         document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
 </script>
 
 <script type="text/javascript" src="http://www.google-analytics.com/ga.js">
 </script>
 </body>
 </html>